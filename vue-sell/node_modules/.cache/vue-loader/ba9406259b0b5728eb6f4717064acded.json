{"remainingRequest":"/Users/tanlingling/Desktop/project-e/sell/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/tanlingling/Desktop/project-e/sell/src/components/tab/tab.vue?vue&type=style&index=0&id=9c4fe28a&lang=stylus&scoped=true&","dependencies":[{"path":"/Users/tanlingling/Desktop/project-e/sell/src/components/tab/tab.vue","mtime":1547720894469},{"path":"/Users/tanlingling/Desktop/project-e/sell/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Users/tanlingling/Desktop/project-e/sell/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/tanlingling/Desktop/project-e/sell/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/tanlingling/Desktop/project-e/sell/node_modules/stylus-loader/index.js","mtime":1519606876000},{"path":"/Users/tanlingling/Desktop/project-e/sell/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tanlingling/Desktop/project-e/sell/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n@import '~common/stylus/variable'\n\n.tab\n  display: flex\n  flex-direction: column\n  height: 100%\n  >>> .cube-tab\n    padding: 10px 0\n  .slide-wp\n    flex: 1\n    overflow: hidden\n",{"version":3,"sources":["tab.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsFA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"tab.vue","sourceRoot":"src/components/tab","sourcesContent":["<template>\n  <div class=\"tab\">\n    <cube-tab-bar\n      ref=\"tabBar\"\n      :showSlider=\"true\"\n      :useTransition=\"false\"\n      v-model=\"selectedLabel\"\n      :data=\"tabs\"\n      class=\"border-bottom-1px\">\n    </cube-tab-bar>\n    <div class=\"slide-wp\">\n      <cube-slide \n        ref=\"slide\" \n        :loop=\"false\" \n        :auto-play=\"false\" \n        :showDots=\"false\" \n        :initialIndex=\"index\"\n        :options=\"slideOptions\"\n        @change=\"onChange\"\n        @scroll=\"onScroll\"\n      >\n        <cube-slide-item v-for=\"(tab, index) in tabs\" :key=\"index\">\n          <component :is=\"tab.component\" :data=\"tab.data\" ref=\"component\"></component>\n        </cube-slide-item>\n      </cube-slide>\n    </div>\n  </div>\n</template>\n\n<script>\n  export default {\n    name:'tab',\n    props: {\n      tabs: {\n        type: Array,\n        default () {\n          return []\n        }\n      },\n      initialIndex: {\n        type: Number,\n        default: 0\n      }\n    },\n    data () {\n      return {\n        index: this.initialIndex,\n        slideOptions: {\n          listenScroll: true,\n          probeType: 3,\n          directionLockThreshold: 0\n        }      \n      }\n    },\n    methods: {\n      onChange (current) {\n        this.index = current\n        const component = this.$refs.component[current]\n        component.fetch && component.fetch()\n      },\n      onScroll (pos) {\n        const tabBarWidth = this.$refs.tabBar.$el.clientWidth\n        const slideWidth = this.$refs.slide.slide.scrollerWidth\n        const transform = -pos.x / slideWidth * tabBarWidth\n        this.$refs.tabBar.setSliderTransform(transform)\n      }\n    },\n    computed: {\n      selectedLabel: {\n        get () {\n          return this.tabs[this.index].label\n        },\n        set (newValue) {\n          this.index = this.tabs.findIndex((value) => {\n            return value.label === newValue\n          })\n        }\n      }\n    },\n    mounted () {\n      this.onChange(this.index)\n    }\n  }\n</script>\n\n<style lang='stylus' scoped>\n  @import '~common/stylus/variable'\n\n  .tab\n    display: flex\n    flex-direction: column\n    height: 100%\n    >>> .cube-tab\n      padding: 10px 0\n    .slide-wp\n      flex: 1\n      overflow: hidden\n</style>"]}]}