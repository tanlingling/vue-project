{"remainingRequest":"/Users/tanlingling/git/vue-sell/node_modules/thread-loader/dist/cjs.js!/Users/tanlingling/git/vue-sell/node_modules/babel-loader/lib/index.js??ref--16-2!/Users/tanlingling/git/vue-sell/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/tanlingling/git/vue-sell/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/tanlingling/git/vue-sell/node_modules/cube-ui/src/components/cascade-picker/cascade-picker.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/tanlingling/git/vue-sell/node_modules/cube-ui/src/components/cascade-picker/cascade-picker.vue","mtime":499162500000},{"path":"/Users/tanlingling/git/vue-sell/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tanlingling/git/vue-sell/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tanlingling/git/vue-sell/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/tanlingling/git/vue-sell/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tanlingling/git/vue-sell/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport CubePicker from '../picker/picker.vue';\nimport visibilityMixin from '../../common/mixins/visibility';\nimport popupMixin from '../../common/mixins/popup';\nimport basicPickerMixin from '../../common/mixins/basic-picker';\nimport pickerMixin from '../../common/mixins/picker';\nimport localeMixin from '../../common/mixins/locale';\nvar COMPONENT_NAME = 'cube-cascade-picker';\nvar EVENT_SELECT = 'select';\nvar EVENT_CANCEL = 'cancel';\nvar EVENT_CHANGE = 'change';\nexport default {\n  name: COMPONENT_NAME,\n  mixins: [visibilityMixin, popupMixin, basicPickerMixin, pickerMixin, localeMixin],\n  props: {\n    async: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data: function data() {\n    return {\n      cascadeData: this.data.slice(),\n      pickerSelectedIndex: this.selectedIndex.slice(),\n      pickerData: [],\n      pending: false\n    };\n  },\n  created: function created() {\n    this._updatePickerData();\n  },\n  methods: {\n    setData: function setData(data) {\n      var selectedIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n      this.pending = false;\n      this.cascadeData = data.slice();\n      this.pickerSelectedIndex = selectedIndex.slice();\n\n      this._updatePickerData();\n    },\n    _pickerSelect: function _pickerSelect(selectedVal, selectedIndex, selectedText) {\n      this.$emit(EVENT_SELECT, selectedVal, selectedIndex, selectedText);\n    },\n    _pickerCancel: function _pickerCancel() {\n      this.$emit(EVENT_CANCEL);\n    },\n    _pickerChange: function _pickerChange(i, newIndex) {\n      if (newIndex !== this.pickerSelectedIndex[i]) {\n        this.pickerSelectedIndex.splice(i, 1, newIndex);\n        this.async ? this.pending = i !== this.pickerData.length - 1 : this._updatePickerData(i + 1);\n      }\n\n      this.$emit(EVENT_CHANGE, i, newIndex);\n    },\n    _updatePickerData: function _updatePickerData() {\n      var _this = this;\n\n      var fromColumn = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var data = this.cascadeData;\n      var i = 0;\n\n      while (data) {\n        if (i >= fromColumn) {\n          (function () {\n            var columnData = [];\n            data.forEach(function (item) {\n              columnData.push({\n                value: item[_this.valueKey],\n                text: item[_this.textKey]\n              });\n            });\n            _this.pickerData[i] = columnData;\n            /* refillColumn could only be called after show() */\n\n            _this.pickerSelectedIndex[i] = fromColumn === 0 ? _this.pickerSelectedIndex[i] < data.length ? _this.pickerSelectedIndex[i] || 0 : 0 : _this.$refs.picker.refillColumn(i, columnData);\n          })();\n        }\n\n        data = data.length ? data[this.pickerSelectedIndex[i]].children : null;\n        i++;\n      }\n\n      if (i < this.pickerData.length) {\n        this.pickerData.splice(i, this.pickerData.length - i);\n      }\n\n      this.pickerData = this.pickerData.slice();\n    }\n  },\n  components: {\n    CubePicker: CubePicker\n  }\n};",{"version":3,"sources":["cascade-picker.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <cube-picker\n    ref=\"picker\"\n    v-model=\"isVisible\"\n    :data=\"pickerData\"\n    :selected-index=\"pickerSelectedIndex\"\n    :pending=\"pending\"\n    :title=\"title\"\n    :subtitle=\"subtitle\"\n    :z-index=\"zIndex\"\n    :cancel-txt=\"_cancelTxt\"\n    :confirm-txt=\"_confirmTxt\"\n    :swipe-time=\"swipeTime\"\n    :mask-closable=\"maskClosable\"\n    @select=\"_pickerSelect\"\n    @cancel=\"_pickerCancel\"\n    @change=\"_pickerChange\">\n  </cube-picker>\n</template>\n\n<script type=\"text/ecmascript-6\">\n  import CubePicker from '../picker/picker.vue'\n  import visibilityMixin from '../../common/mixins/visibility'\n  import popupMixin from '../../common/mixins/popup'\n  import basicPickerMixin from '../../common/mixins/basic-picker'\n  import pickerMixin from '../../common/mixins/picker'\n  import localeMixin from '../../common/mixins/locale'\n\n  const COMPONENT_NAME = 'cube-cascade-picker'\n  const EVENT_SELECT = 'select'\n  const EVENT_CANCEL = 'cancel'\n  const EVENT_CHANGE = 'change'\n\n  export default {\n    name: COMPONENT_NAME,\n    mixins: [visibilityMixin, popupMixin, basicPickerMixin, pickerMixin, localeMixin],\n    props: {\n      async: {\n        type: Boolean,\n        default: false\n      }\n    },\n    data () {\n      return {\n        cascadeData: this.data.slice(),\n        pickerSelectedIndex: this.selectedIndex.slice(),\n        pickerData: [],\n        pending: false\n      }\n    },\n    created() {\n      this._updatePickerData()\n    },\n    methods: {\n      setData(data, selectedIndex = []) {\n        this.pending = false\n        this.cascadeData = data.slice()\n        this.pickerSelectedIndex = selectedIndex.slice()\n        this._updatePickerData()\n      },\n      _pickerSelect(selectedVal, selectedIndex, selectedText) {\n        this.$emit(EVENT_SELECT, selectedVal, selectedIndex, selectedText)\n      },\n      _pickerCancel() {\n        this.$emit(EVENT_CANCEL)\n      },\n      _pickerChange(i, newIndex) {\n        if (newIndex !== this.pickerSelectedIndex[i]) {\n          this.pickerSelectedIndex.splice(i, 1, newIndex)\n          this.async\n            ? (this.pending = i !== this.pickerData.length - 1)\n            : this._updatePickerData(i + 1)\n        }\n        this.$emit(EVENT_CHANGE, i, newIndex)\n      },\n      _updatePickerData(fromColumn = 0) {\n        let data = this.cascadeData\n        let i = 0\n        while (data) {\n          if (i >= fromColumn) {\n            let columnData = []\n            data.forEach((item) => {\n              columnData.push({\n                value: item[this.valueKey],\n                text: item[this.textKey]\n              })\n            })\n            this.pickerData[i] = columnData\n            /* refillColumn could only be called after show() */\n            this.pickerSelectedIndex[i] = fromColumn === 0\n              ? (this.pickerSelectedIndex[i] < data.length ? this.pickerSelectedIndex[i] || 0 : 0)\n              : this.$refs.picker.refillColumn(i, columnData)\n          }\n          data = data.length ? data[this.pickerSelectedIndex[i]].children : null\n\n          i++\n        }\n\n        if (i < this.pickerData.length) {\n          this.pickerData.splice(i, this.pickerData.length - i)\n        }\n\n        this.pickerData = this.pickerData.slice()\n      }\n    },\n    components: {\n      CubePicker\n    }\n  }\n</script>\n"],"sourceRoot":"node_modules/cube-ui/src/components/cascade-picker"}]}