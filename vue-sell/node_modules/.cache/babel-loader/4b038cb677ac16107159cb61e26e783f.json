{"remainingRequest":"/Users/tanlingling/git/vue-sell/node_modules/thread-loader/dist/cjs.js!/Users/tanlingling/git/vue-sell/node_modules/babel-loader/lib/index.js??ref--30-2!/Users/tanlingling/git/vue-sell/node_modules/cube-ui/src/components/upload/util.js","dependencies":[{"path":"/Users/tanlingling/git/vue-sell/node_modules/cube-ui/src/components/upload/util.js","mtime":499162500000},{"path":"/Users/tanlingling/git/vue-sell/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tanlingling/git/vue-sell/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tanlingling/git/vue-sell/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import { inBrowser } from '../../common/helpers/env';\nexport var URL = inBrowser ? window.URL || window.webkitURL || window.mozURL : null;\nexport var STATUS_READY = 'ready';\nexport var STATUS_UPLOADING = 'uploading';\nexport var STATUS_ERROR = 'error';\nexport var STATUS_SUCCESS = 'success';\nexport function processFiles(files, eachProcessFile, eachCb, cb) {\n  var fileItems = [];\n  var len = files.length;\n  var processedLen = 0;\n\n  for (var i = 0; i < len; i++) {\n    processFile(files[i], i, eachProcessFile, function (item, index) {\n      processedLen++;\n      fileItems[index] = item;\n      eachCb(item, index);\n\n      if (processedLen === len) {\n        return cb(fileItems);\n      }\n    });\n  }\n}\nexport function processFile(file, i, eachProcessFile, cb) {\n  eachProcessFile(file, function (file) {\n    var item = newFile(file.name, file.size, STATUS_READY, 0, file);\n    cb(item, i);\n  });\n}\nexport function newFile() {\n  var name = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  var size = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  var status = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '';\n  var progress = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n  var file = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : null;\n  var base64 = file && file.base64 || '';\n  var url = base64 ? '' : createURL(file);\n  return {\n    name: name,\n    size: size,\n    url: url,\n    base64: base64,\n    status: status,\n    progress: progress,\n    file: file\n  };\n}\n\nfunction createURL(file) {\n  if (file && URL) {\n    return URL.createObjectURL(file);\n  }\n\n  return '';\n}\n\nexport function evalOpts(data) {\n  if (typeof data === 'function') {\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    return data.apply(this, args);\n  }\n\n  return data;\n}",{"version":3,"sources":["/Users/tanlingling/git/vue-sell/node_modules/cube-ui/src/components/upload/util.js"],"names":["inBrowser","URL","window","webkitURL","mozURL","STATUS_READY","STATUS_UPLOADING","STATUS_ERROR","STATUS_SUCCESS","processFiles","files","eachProcessFile","eachCb","cb","fileItems","len","length","processedLen","i","processFile","item","index","file","newFile","name","size","status","progress","base64","url","createURL","createObjectURL","evalOpts","data","args","apply"],"mappings":"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","sourcesContent":["import { inBrowser } from '../../common/helpers/env'\n\nexport const URL = inBrowser ? window.URL || window.webkitURL || window.mozURL : null\n\nexport const STATUS_READY = 'ready'\nexport const STATUS_UPLOADING = 'uploading'\nexport const STATUS_ERROR = 'error'\nexport const STATUS_SUCCESS = 'success'\n\nexport function processFiles(files, eachProcessFile, eachCb, cb) {\n  const fileItems = []\n  const len = files.length\n  let processedLen = 0\n  for (let i = 0; i < len; i++) {\n    processFile(files[i], i, eachProcessFile, function (item, index) {\n      processedLen++\n      fileItems[index] = item\n      eachCb(item, index)\n      if (processedLen === len) {\n        return cb(fileItems)\n      }\n    })\n  }\n}\n\nexport function processFile(file, i, eachProcessFile, cb) {\n  eachProcessFile(file, function (file) {\n    const item = newFile(file.name, file.size, STATUS_READY, 0, file)\n    cb(item, i)\n  })\n}\n\nexport function newFile(name = '', size = 0, status = '', progress = 0, file = null) {\n  const base64 = (file && file.base64) || ''\n  const url = base64 ? '' : createURL(file)\n\n  return {\n    name,\n    size,\n    url,\n    base64,\n    status,\n    progress,\n    file\n  }\n}\n\nfunction createURL(file) {\n  if (file && URL) {\n    return URL.createObjectURL(file)\n  }\n  return ''\n}\n\nexport function evalOpts(data, ...args) {\n  if (typeof data === 'function') {\n    return data.apply(this, args)\n  }\n  return data\n}\n"]}]}