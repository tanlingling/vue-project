{"remainingRequest":"/Users/tanlingling/git/vue-sell/node_modules/babel-loader/lib/index.js??ref--16-1!/Users/tanlingling/git/vue-sell/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/tanlingling/git/vue-sell/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/tanlingling/git/vue-sell/src/components/ratings/ratings.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/tanlingling/git/vue-sell/src/components/ratings/ratings.vue","mtime":1548317560833},{"path":"/Users/tanlingling/git/vue-sell/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tanlingling/git/vue-sell/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/tanlingling/git/vue-sell/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tanlingling/git/vue-sell/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { getRatings } from 'api';\nimport Split from 'components/split/split';\nimport RatingSelect from 'components/rating-select/rating-select';\nimport Star from 'components/star/star';\nimport ratingsMixin from 'common/mixins/ratings';\nexport default {\n  name: 'ratings',\n  mixins: [ratingsMixin],\n  props: {\n    data: {\n      type: Object,\n      default: function _default() {\n        return {};\n      }\n    }\n  },\n  data: function data() {\n    return {\n      ratings: [],\n      scrollOptions: {\n        click: false,\n        directionLockThreshold: 0\n      },\n      desc: {\n        all: '全部',\n        positive: '满意',\n        negative: '不满意'\n      }\n    };\n  },\n  created: function created() {\n    var _this = this;\n\n    this.$nextTick(function () {\n      _this.$refs.scroll.refresh();\n    });\n  },\n  methods: {\n    fetch: function fetch() {\n      var _this2 = this;\n\n      if (!this.fetched) {\n        this.fetched = true;\n        getRatings({\n          id: this.seller.id\n        }).then(function (ratings) {\n          _this2.ratings = ratings;\n        });\n      }\n    }\n  },\n  computed: {\n    seller: function seller() {\n      return this.data.seller || {};\n    }\n  },\n  components: {\n    Split: Split,\n    RatingSelect: RatingSelect,\n    Star: Star\n  },\n  beforeMount: function beforeMount() {},\n  mounted: function mounted() {},\n  watch: {}\n};",{"version":3,"sources":["ratings.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6EA,SAAA,UAAA,QAAA,KAAA;AACA,OAAA,KAAA,MAAA,wBAAA;AACA,OAAA,YAAA,MAAA,wCAAA;AACA,OAAA,IAAA,MAAA,sBAAA;AACA,OAAA,YAAA,MAAA,uBAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,SADA;AAEA,EAAA,MAAA,EAAA,CAAA,YAAA,CAFA;AAGA,EAAA,KAAA,EAAA;AACA,IAAA,IAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAFA,sBAEA;AACA,eAAA,EAAA;AACA;AAJA;AADA,GAHA;AAWA,EAAA,IAXA,kBAWA;AACA,WAAA;AACA,MAAA,OAAA,EAAA,EADA;AAEA,MAAA,aAAA,EAAA;AACA,QAAA,KAAA,EAAA,KADA;AAEA,QAAA,sBAAA,EAAA;AAFA,OAFA;AAMA,MAAA,IAAA,EAAA;AACA,QAAA,GAAA,EAAA,IADA;AAEA,QAAA,QAAA,EAAA,IAFA;AAGA,QAAA,QAAA,EAAA;AAHA;AANA,KAAA;AAYA,GAxBA;AAyBA,EAAA,OAzBA,qBAyBA;AAAA;;AACA,SAAA,SAAA,CAAA,YAAA;AACA,MAAA,KAAA,CAAA,KAAA,CAAA,MAAA,CAAA,OAAA;AACA,KAFA;AAGA,GA7BA;AA8BA,EAAA,OAAA,EAAA;AACA,IAAA,KADA,mBACA;AAAA;;AACA,UAAA,CAAA,KAAA,OAAA,EAAA;AACA,aAAA,OAAA,GAAA,IAAA;AACA,QAAA,UAAA,CAAA;AACA,UAAA,EAAA,EAAA,KAAA,MAAA,CAAA;AADA,SAAA,CAAA,CAEA,IAFA,CAEA,UAAA,OAAA,EAAA;AACA,UAAA,MAAA,CAAA,OAAA,GAAA,OAAA;AACA,SAJA;AAKA;AACA;AAVA,GA9BA;AA0CA,EAAA,QAAA,EAAA;AACA,IAAA,MADA,oBACA;AACA,aAAA,KAAA,IAAA,CAAA,MAAA,IAAA,EAAA;AACA;AAHA,GA1CA;AA+CA,EAAA,UAAA,EAAA;AACA,IAAA,KAAA,EAAA,KADA;AAEA,IAAA,YAAA,EAAA,YAFA;AAGA,IAAA,IAAA,EAAA;AAHA,GA/CA;AAoDA,EAAA,WApDA,yBAoDA,CAAA,CApDA;AAqDA,EAAA,OArDA,qBAqDA,CAAA,CArDA;AAsDA,EAAA,KAAA,EAAA;AAtDA,CAAA","sourcesContent":["<template>\n  <cube-scroll :options=\"scrollOptions\" :data=\"computedRatings\" ref=\"scroll\">\n    <div class=\"ratings\">\n      <div class=\"all-ratings-wp\">\n        <div class=\"rating-left\">\n          <div class=\"score\">{{seller.score}}</div>\n          <div class=\"text\">综合评分</div>\n          <div class=\"rank-rate\">高于周边商家{{seller.rankRate}}%</div>\n        </div>\n        <div class=\"rating-right\">\n          <div class=\"star-wp\">\n            <span class=\"text\">食品质量</span>\n            <star :size=\"36\" :score=\"seller.foodScore\"></star>\n            <span class=\"score\">{{seller.foodScore}}</span>\n          </div>\n          <div class=\"star-wp\">\n            <span class=\"text\">服务态度</span>\n            <star :size=\"36\" :score=\"seller.serviceScore\"></star>\n            <span class=\"score\">{{seller.serviceScore}}</span>\n          </div>\n          <div class=\"star-wp\">\n            <span class=\"text\">送达时间</span>\n            <span class=\"delivery-time\">{{seller.deliveryTime}}分钟</span>\n          </div>\n        </div>\n      </div>\n      <split></split>\n      <div class=\"ratings-list-wp\">\n        <rating-select\n          @select=\"onSelect\"\n          @toggle=\"onToggle\"\n          :selectType=\"selectType\"\n          :onlyContent=\"onlyContent\"\n          :ratings=\"computedRatings\"\n          v-if=\"ratings.length\"\n        >\n        </rating-select>\n        <div class=\"rating-wrapper\">\n          <ul>\n            <li\n              v-for=\"(rating,index) in computedRatings\"\n              :key=\"index\"\n              class=\"rating-item border-bottom-1px\"\n            >\n              <div class=\"avatar\">\n                <img width=\"28\" height=\"28\" :src=\"rating.avatar\">\n              </div>\n              <div class=\"content\">\n                <h1 class=\"name\">{{rating.username}}</h1>\n                <div class=\"star-wrapper\">\n                  <star :size=\"24\" :score=\"rating.score\"></star>\n                  <span class=\"delivery\" v-show=\"rating.deliveryTime\">{{rating.deliveryTime}}</span>\n                </div>\n                <p class=\"text\">{{rating.text}}</p>\n                <div class=\"recommend\" v-show=\"rating.recommend && rating.recommend.length\">\n                  <span class=\"icon-thumb_up\"></span>\n                  <span\n                    class=\"item\"\n                    v-for=\"(item,index) in rating.recommend\"\n                    :key=\"index\"\n                  >\n                    {{item}}\n                  </span>\n                </div>\n                <div class=\"time\">\n                  {{format(rating.rateTime)}}\n                </div>\n              </div>\n            </li>\n          </ul>\n        </div>     \n      </div>\n    </div>\n  </cube-scroll>\n</template>\n\n<script>\n  import { getRatings } from 'api'\n  import Split from 'components/split/split'\n  import RatingSelect from 'components/rating-select/rating-select'\n  import Star from 'components/star/star'\n  import ratingsMixin from 'common/mixins/ratings'\n\n  export default {\n    name:'ratings',\n    mixins: [ratingsMixin],\n    props:{\n      data: {\n        type: Object,\n        default () {\n          return {}\n        }\n      }\n    },\n    data () {\n      return {\n        ratings: [],\n        scrollOptions: {\n          click: false,\n          directionLockThreshold: 0\n        },\n        desc: {\n          all: '全部',\n          positive: '满意',\n          negative: '不满意'\n        }\n      }\n    },\n    created () {\n      this.$nextTick(() => {\n        this.$refs.scroll.refresh()\n      })\n    },\n    methods: {\n      fetch () {\n        if (!this.fetched) {\n          this.fetched = true\n          getRatings({\n            id: this.seller.id\n          }).then(ratings => {\n            this.ratings = ratings\n          })\n        }\n      }\n    },\n    computed: {\n      seller () {\n        return this.data.seller || {}\n      }\n    },\n    components: {\n      Split,\n      RatingSelect,\n      Star\n    },\n    beforeMount() {},\n    mounted() {},\n    watch: {}\n  }\n</script>\n\n<style lang='stylus' scoped>\n  @import '~common/stylus/variable'\n  @import '~common/stylus/mixin'\n\n  .ratings\n    .all-ratings-wp\n      display: flex\n      align-items: center\n      padding: 18px 0\n      .rating-left\n        flex: 2\n        text-align: center\n        border-right: 1px solid $color-col-line\n        .score\n          font-size: $fontsize-large-xxx\n          color: $color-orange\n        .text\n          font-size: $fontsize-small\n          color: $color-background\n          line-height: 18px\n          padding: 6px 0 8px\n        .rank-rate\n          font-size: $fontsize-small-s\n          color: $color-font-light\n          line-height: 10px\n          margin-bottom: 6px\n      .rating-right\n        flex: 3\n        padding-left: 24px\n        .star-wp\n          display: flex\n          align-items: center\n          justify-content: flex-start\n          margin-bottom: 8px\n          font-size: $fontsize-small\n          line-height: 18px\n          .text\n            color: $color-background\n            margin-right: 12px\n          .score\n            color: $color-orange\n            margin-left: 12px\n          .delivery-time\n            color: $color-font-light\n    .rating-wrapper\n      padding: 0 18px\n      .rating-item\n        display: flex\n        padding: 18px 0\n        &:last-child\n          border-none()\n        .avatar\n          flex: 0 0 28px\n          width: 28px\n          margin-right: 12px\n          img\n            height: auto\n            border-radius: 50%\n        .content\n          position: relative\n          flex: 1\n          .name\n            margin-bottom: 4px\n            line-height: 12px\n            font-size: $fontsize-small-s\n            color: $color-dark-grey\n          .star-wrapper\n            margin-bottom: 6px\n            display: flex\n            align-items: center\n            .star\n              margin-right: 6px\n            .delivery\n              font-size: $fontsize-small-s\n              color: $color-light-grey\n          .text\n            margin-bottom: 8px\n            line-height: 18px\n            color: $color-dark-grey\n            font-size: $fontsize-small\n            white-space: normal\n            text-align: justify\n          .recommend\n            display: flex\n            align-items: center\n            flex-wrap: wrap\n            line-height: 16px\n            .icon-thumb_up, .item\n              margin: 0 8px 4px 0\n              font-size: $fontsize-small-s\n            .icon-thumb_up\n              color: $color-blue\n            .item\n              padding: 0 6px\n              border: 1px solid $color-row-line\n              border-radius: 1px\n              color: $color-light-grey\n              background: $color-white\n          .time\n            position: absolute\n            top: 0\n            right: 0\n            line-height: 12px\n            font-size: $fontsize-small\n            color: $color-light-grey\n</style>\n"],"sourceRoot":"src/components/ratings"}]}