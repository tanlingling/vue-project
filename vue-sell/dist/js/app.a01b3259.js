(function(t){function s(s){for(var i,o,r=s[0],c=s[1],l=s[2],d=0,p=[];d<r.length;d++)o=r[d],a[o]&&p.push(a[o][0]),a[o]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);u&&u(s);while(p.length)p.shift()();return n.push.apply(n,l||[]),e()}function e(){for(var t,s=0;s<n.length;s++){for(var e=n[s],i=!0,r=1;r<e.length;r++){var c=e[r];0!==a[c]&&(i=!1)}i&&(n.splice(s--,1),t=o(o.s=e[0]))}return t}var i={},a={app:0},n=[];function o(s){if(i[s])return i[s].exports;var e=i[s]={i:s,l:!1,exports:{}};return t[s].call(e.exports,e,e.exports,o),e.l=!0,e.exports}o.m=t,o.c=i,o.d=function(t,s,e){o.o(t,s)||Object.defineProperty(t,s,{enumerable:!0,get:e})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,s){if(1&s&&(t=o(t)),8&s)return t;if(4&s&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(o.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&s&&"string"!=typeof t)for(var i in t)o.d(e,i,function(s){return t[s]}.bind(null,i));return e},o.n=function(t){var s=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(s,"a",s),s},o.o=function(t,s){return Object.prototype.hasOwnProperty.call(t,s)},o.p="http://localhost:8900/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=s,r=r.slice();for(var l=0;l<r.length;l++)s(r[l]);var u=c;n.push([0,"chunk-vendors"]),e()})({0:function(t,s,e){t.exports=e("56d7")},"0922":function(t,s,e){"use strict";var i=e("393c"),a=e.n(i);a.a},"0b57":function(t,s,e){"use strict";var i=e("e639"),a=e.n(i);a.a},"104d":function(t,s,e){"use strict";var i=e("b94f"),a=e.n(i);a.a},"1c02":function(t,s,e){},"1f72":function(t,s,e){},"2c4b":function(t,s,e){},"2f1f":function(t,s,e){"use strict";var i=e("ecae"),a=e.n(i);a.a},"311b":function(t,s,e){"use strict";var i=e("86ccf"),a=e.n(i);a.a},3840:function(t,s,e){"use strict";var i=e("1f72"),a=e.n(i);a.a},"393c":function(t,s,e){},3943:function(t,s,e){"use strict";var i=e("1c02"),a=e.n(i);a.a},"3d8c":function(t,s,e){"use strict";var i=e("2c4b"),a=e.n(i);a.a},"422d":function(t,s,e){},"46f1":function(t,s,e){"use strict";var i=e("422d"),a=e.n(i);a.a},"4b0b":function(t,s,e){},"4e9c":function(t,s,e){"use strict";var i=e("ea9e"),a=e.n(i);a.a},"56d7":function(t,s,e){"use strict";e.r(s);e("cadf"),e("551c"),e("097d");var i=e("2b0e"),a=(e("df49"),e("2696")),n=e("031d"),o=e("63b4"),r=e("1cc1"),c=e("0679"),l=e("2799"),u=e("ba90"),d=e("36b6"),p=e("0f85");i["a"].use(a["a"]),i["a"].use(n["a"]),i["a"].use(o["a"]),i["a"].use(r["a"]),i["a"].use(c["a"]),i["a"].use(l["a"]),i["a"].use(u["a"]),i["a"].use(d["a"]),i["a"].use(p["a"]);var f=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{id:"app"}},[e("v-header",{attrs:{seller:t.seller}}),e("div",{staticClass:"tab-wp"},[e("tab",{attrs:{tabs:t.tabs,initialIndex:0}})],1)],1)},h=[],v=(e("386d"),function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"header",on:{click:t.showDetail}},[e("div",{staticClass:"content-wp"},[e("div",{staticClass:"avatar"},[e("img",{attrs:{width:"64",height:"64",src:t.seller.avatar,alt:"avatar"}})]),e("div",{staticClass:"content"},[e("div",{staticClass:"title"},[e("span",{staticClass:"brand"}),e("span",{staticClass:"name"},[t._v(t._s(t.seller.name))])]),e("div",{staticClass:"description"},[t._v(t._s(t.seller.description)+"/"+t._s(t.seller.deliveryTime)+"分钟送达")]),t.seller.supports?e("div",{staticClass:"support"},[e("support-ico",{attrs:{size:1,type:t.seller.supports[0].type}}),e("span",{staticClass:"text"},[t._v(t._s(t.seller.supports[0].description))])],1):t._e(),t.seller.supports?e("div",{staticClass:"support-count"},[e("span",{staticClass:"count"},[t._v(t._s(t.seller.supports.length)+"个")]),e("i",{staticClass:"icon-keyboard_arrow_right"})]):t._e()])]),e("div",{staticClass:"bulletin-wp"},[e("span",{staticClass:"bulletin-title"}),e("span",{staticClass:"bulletin-text"},[t._v(t._s(t.seller.bulletin))]),e("i",{staticClass:"icon-keyboard_arrow_right"})]),e("div",{staticClass:"bg"},[e("img",{attrs:{src:t.seller.avatar,width:"100%",height:"100%",alt:"bg-avatar"}})])])}),m=[],C=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("span",{staticClass:"support-ico",class:t.iconCls})},_=[],b=(e("c5f6"),{name:"support-ico",props:{size:{type:Number},type:{type:Number}},computed:{iconCls:function(){var t=["decrease","discount","special","invoice","guarantee"];return"icon-".concat(this.size," ").concat(t[this.type])}}}),y=b,g=(e("e37f"),e("2877")),w=Object(g["a"])(y,C,_,!1,null,"7b529306",null);w.options.__file="support-ico.vue";var x=w.exports,k={name:"v-header",props:{seller:{type:Object,default:function(){return{}}}},methods:{showDetail:function(){this.headerDetailComp=this.headerDetailComp||this.$createHeaderDetail({$props:{seller:"seller"}}),this.headerDetailComp.show()}},components:{SupportIco:x}},S=k,$=(e("311b"),Object(g["a"])(S,v,m,!1,null,"9001f4e0",null));$.options.__file="v-header.vue";var T=$.exports,P=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("cube-scroll",{ref:"scroll",attrs:{options:t.scrollOptions}},[e("div",{staticClass:"seller-wp"},[e("div",{staticClass:"seller-info"},[e("div",{staticClass:"seller-ratings border-bottom-1px"},[e("div",{staticClass:"ratings"},[e("div",{staticClass:"name title"},[t._v(t._s(t.seller.name))]),e("div",{staticClass:"star-wp"},[e("star",{attrs:{size:36,score:t.seller.score}}),e("span",{staticClass:"rating-count"},[t._v("("+t._s(t.seller.ratingCount)+")")]),e("span",{staticClass:"sell-count"},[t._v("月售"+t._s(t.seller.sellCount)+"单")])],1)]),e("div",{staticClass:"collect",on:{click:t.collect}},[e("span",{staticClass:"icon icon-favorite",class:{on:t.favorite}}),e("div",{staticClass:"text"},[t._v(t._s(t.collectText))])])]),e("dl",{staticClass:"delivery-info"},[e("div",{staticClass:"flex-item border-right-1px"},[e("dt",{staticClass:"dt"},[t._v("起送价")]),e("dd",{staticClass:"dd"},[e("span",{staticClass:"num"},[t._v(t._s(t.seller.minPrice))]),e("span",{staticClass:"unit"},[t._v("元")])])]),e("div",{staticClass:"flex-item border-right-1px"},[e("dt",{staticClass:"dt"},[t._v("商家配送")]),e("dd",{staticClass:"dd"},[e("span",{staticClass:"num"},[t._v(t._s(t.seller.deliveryPrice))]),e("span",{staticClass:"unit"},[t._v("元")])])]),e("div",{staticClass:"flex-item"},[e("dt",{staticClass:"dt"},[t._v("平均配送时间")]),e("dd",{staticClass:"dd"},[e("span",{staticClass:"num"},[t._v(t._s(t.seller.deliveryTime))]),e("span",{staticClass:"unit"},[t._v("元")])])])])]),e("split"),e("div",{staticClass:"bulletin-act"},[e("div",{staticClass:"title"},[t._v("公告与活动")]),e("div",{staticClass:"bulletin border-bottom-1px"},[t._v(t._s(t.seller.bulletin))]),e("ul",t._l(t.seller.supports,function(s,i){return e("li",{key:i,staticClass:"border-bottom-1px"},[e("support-ico",{attrs:{size:3,type:s.type}}),e("div",{staticClass:"text"},[t._v(t._s(s.description))])],1)}),0)]),e("split"),e("div",{staticClass:"seller-scene"},[e("div",{staticClass:"title"},[t._v("商家实景")]),e("cube-scroll",{ref:"picScroll",staticClass:"img-wp",attrs:{options:t.picScrollOptions}},[e("ul",{staticClass:"img-list"},t._l(t.seller.pics,function(t,s){return e("li",{key:s,staticClass:"img-item"},[e("img",{attrs:{src:t,width:"120",height:"90"}})])}),0)])],1),e("split"),e("div",{staticClass:"seller-about"},[e("div",{staticClass:"title border-bottom-1px"},[t._v("商家信息")]),e("ul",{staticClass:"info"},t._l(t.seller.infos,function(s,i){return e("li",{key:i,staticClass:"item border-bottom-1px"},[t._v(t._s(s))])}),0)])],1)])},O=[],j=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"split"})},F=[],E={name:"split"},N=E,L=(e("9e90"),Object(g["a"])(N,j,F,!1,null,"a19e9cc8",null));L.options.__file="split.vue";var D=L.exports,B=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"star",class:t.starType},t._l(t.itemClasses,function(t,s){return e("span",{key:s,staticClass:"star-item",class:t})}),0)},R=[],z=5,M="on",A="off",I="half",H={name:"",props:{size:{type:Number},score:{type:Number}},computed:{starType:function(){return"star-".concat(this.size)},itemClasses:function(){for(var t=[],s=Math.floor(2*this.score)/2,e=s%1!==0,i=Math.floor(s),a=0;a<i;a++)t.push(M);e&&t.push(I);while(t.length<z)t.push(A);return t}}},J=H,W=(e("0b57"),Object(g["a"])(J,B,R,!1,null,"23569236",null));W.options.__file="star.vue";var V=W.exports,X=e("335a"),Y="__seller__";function q(t,s,e){var i=X["a"].get(Y,{});i[t]||(i[t]={}),i[t][s]=e,X["a"].set(Y,i)}function G(t,s,e){var i=X["a"].get(Y,{});return i[t]&&i[t][s]||e}var K="favorite",Q={name:"",props:{data:{type:Object,default:function(){return{}}}},data:function(){return{favorite:!1,scrollOptions:{click:!1,directionLockThreshold:0},picScrollOptions:{scrollX:!0,stopPropagation:!0,directionLockThreshold:0}}},created:function(){this.favorite=G(this.seller.id,K,!1)},methods:{collect:function(){this.favorite=!this.favorite,q(this.seller.id,K,this.favorite)}},computed:{seller:function(){return this.data.seller||{}},collectText:function(){return this.favorite?"已收藏":"收藏"}},components:{Split:D,Star:V,SupportIco:x},beforeMount:function(){},mounted:function(){},watch:{}},U=Q,Z=(e("2f1f"),Object(g["a"])(U,P,O,!1,null,"76f120aa",null));Z.options.__file="seller.vue";var tt=Z.exports,st=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"goods"},[e("div",{staticClass:"scroll-nav-wp"},[t.goods.length?e("cube-scroll-nav",{attrs:{side:!0,data:t.goods,options:t.slideOptions},scopedSlots:t._u([{key:"bar",fn:function(s){return[e("cube-scroll-nav-bar",{attrs:{direction:"vertical",labels:s.labels,txts:t.barTxts,current:s.current},scopedSlots:t._u([{key:"default",fn:function(s){return[e("div",{staticClass:"text"},[s.txt.type>=1?e("support-ico",{attrs:{size:3,type:s.txt.type}}):t._e(),e("span",[t._v(t._s(s.txt.name))]),s.txt.count?e("span",{staticClass:"num"},[e("bubble",{attrs:{num:s.txt.count}})],1):t._e()],1)]}}])})]}}])},t._l(t.goods,function(s){return e("cube-scroll-nav-panel",{key:s.name,attrs:{label:s.name,title:s.name}},[e("ul",{staticClass:"foods-list"},t._l(s.foods,function(s,i){return e("li",{key:i,staticClass:"foods-item",on:{click:function(e){t.showFoodDetail(s)}}},[e("img",{staticClass:"food-img",attrs:{src:s.image}}),e("div",{staticClass:"food-info"},[e("h3",{staticClass:"name"},[t._v(t._s(s.name))]),s.description?e("div",{staticClass:"description"},[t._v(t._s(s.description))]):t._e(),e("div",{staticClass:"sell-count"},[e("span",[t._v("月售"+t._s(s.sellCount)+"份")]),e("span",[t._v("好评率"+t._s(s.rating)+"%")])]),e("div",{staticClass:"price"},[e("span",{staticClass:"new-price"},[t._v("¥"+t._s(s.price))]),s.oldPrice?e("del",{staticClass:"old-price"},[t._v("¥"+t._s(s.oldPrice))]):t._e()])]),e("div",{staticClass:"cart-control-wp"},[e("cart-control",{attrs:{food:s},on:{add:t.onAdd}})],1)])}),0)])}),1):t._e()],1),e("div",{staticClass:"shop-cart-wp"},[e("shop-cart",{ref:"shopCart",attrs:{"select-foods":t.selectFoods,"delivery-price":t.seller.deliveryPrice,"min-price":t.seller.minPrice}})],1)])},et=[],it=(e("ac6a"),e("bc3a")),at=e.n(it),nt=0;function ot(t){return function(s){return at.a.get(t,{params:s}).then(function(t){var s=t.data,e=s.errno,i=s.data;if(e===nt)return i}).catch(function(){})}}var rt=ot("/api/seller"),ct=ot("/api/goods"),lt=ot("/api/ratings"),ut=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"shop-cart"},[e("div",{staticClass:"content",on:{click:t.toggleList}},[e("div",{staticClass:"content-left"},[e("div",{staticClass:"icon-wp"},[e("div",{staticClass:"shop-icon",class:t.shopCartClass},[e("span",{staticClass:"icon-shopping_cart"})])]),e("div",{staticClass:"total-price"},[t._v("¥"+t._s(t.totalPrice))]),e("div",{staticClass:"desp"},[t._v("另需配送费¥"+t._s(t.deliveryPrice))]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.totalCount>0,expression:"totalCount > 0"}],staticClass:"bubble-wp"},[e("bubble",{attrs:{num:t.totalCount}})],1)]),e("div",{staticClass:"content-right",class:t.payClass,on:{click:t.pay}},[t._v("\n      "+t._s(t.payDesc)+"\n    ")])]),e("div",{staticClass:"ball-wp"},t._l(t.balls,function(s,i){return e("div",{key:i},[e("transition",{on:{"before-enter":t.beforeDrop,enter:t.dropping,"after-enter":t.afterDrop}},[e("div",{directives:[{name:"show",rawName:"v-show",value:s.show,expression:"ball.show"}],staticClass:"ball"},[e("div",{staticClass:"inner inner-hook"})])])],1)}),0)])},dt=[],pt=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("span",{staticClass:"bubble"},[t._v(t._s(t.num))])},ft=[],ht={name:"bubble",props:{num:{type:Number,default:0}},data:function(){return{}},methods:{},computed:{},components:{},beforeMount:function(){},mounted:function(){},watch:{}},vt=ht,mt=(e("3d8c"),Object(g["a"])(vt,pt,ft,!1,null,"11fb3394",null));mt.options.__file="bubble.vue";var Ct=mt.exports,_t=10,bt="inner-hook";function yt(){for(var t=[],s=0;s<_t;s++)t.push({show:!1});return t}var gt={name:"shop-cart",props:{selectFoods:{type:Array,default:function(){return[]}},minPrice:{type:Number,default:0},deliveryPrice:{type:Number,default:0},fold:{type:Boolean,default:!0},sticky:{type:Boolean,default:!1}},data:function(){return{balls:yt(),listFold:this.fold}},created:function(){this.dropBalls=[]},methods:{drop:function(t){for(var s=0;s<this.balls.length;s++){var e=this.balls[s];if(!e.show)return e.show=!0,e.el=t,void this.dropBalls.push(e)}},beforeDrop:function(t){var s=this.dropBalls[this.dropBalls.length-1],e=s.el.getBoundingClientRect(),i=e.left-32,a=-(window.innerHeight-e.top-22);t.style.display="",t.style.transform=t.style.webkitTransform="translate3d(0, ".concat(a,"px, 0)");var n=t.getElementsByClassName(bt)[0];n.style.transform=n.style.webkitTransform="translate3d(".concat(i,"px, 0, 0)")},dropping:function(t,s){this._reflow=document.body.offsetHeight,t.style.transform=t.style.webkitTransform="translate3d(0, 0, 0)";var e=t.getElementsByClassName(bt)[0];e.style.transform=e.style.webkitTransform="translate3d(0, 0, 0)",t.addEventListener("transitionend",s)},afterDrop:function(t){var s=this.dropBalls.shift();s&&(s.show=!1,t.style.display="none")},toggleList:function(){if(this.listFold){if(!this.totalCount)return;this.listFold=!1,this._showShopCartList(),this._showShopCartSticky()}else this.listFold=!0,this._hideShopCartList()},_showShopCartList:function(){var t=this;this.shopCartListComp=this.shopCartListComp||this.$createShopCartList({$props:{selectFoods:"selectFoods"},$events:{hide:function(){t.listFold=!0},leave:function(){t._hideShopCartSticky()},add:function(s){t.showShopCartStickyComp.drop(s)}}}),this.shopCartListComp.show()},_showShopCartSticky:function(){this.showShopCartStickyComp=this.showShopCartStickyComp||this.$createShopCartSticky({$props:{selectFoods:"selectFoods",minPrice:"minPrice",deliveryPrice:"deliveryPrice",fold:"listFold",list:this.shopCartListComp,sticky:"sticky"}}),this.showShopCartStickyComp.show()},_hideShopCartList:function(){var t=this.sticky?this.$parent.list:this.shopCartListComp;t.hide&&t.hide()},_hideShopCartSticky:function(){this.showShopCartStickyComp.hide()},pay:function(t){this.totalPrice<this.minPrice||(this.$createDialog({title:"支付",content:"您需要支付".concat(this.totalPrice,"元")}).show(),t.stopPropagation())}},computed:{totalPrice:function(){var t=0;return this.selectFoods.forEach(function(s){t+=s.price*s.count}),t},totalCount:function(){var t=0;return this.selectFoods.forEach(function(s){t+=s.count}),t},payDesc:function(){if(0===this.totalPrice)return"¥".concat(this.minPrice,"元起送");if(this.totalPrice<this.minPrice){var t=this.minPrice-this.totalPrice;return"还差".concat(t,"元起送")}return"去结算"},payClass:function(){return!this.totalPrice||this.totalPrice<this.minPrice?"not-enough":"enough"},shopCartClass:function(){return this.totalCount>0?"blue-cart":""}},components:{Bubble:Ct},watch:{fold:function(t){this.listFold=t},totalCount:function(t){this.listFold||t||this._hideShopCartList()}}},wt=gt,xt=(e("8132"),Object(g["a"])(wt,ut,dt,!1,null,"50c9cda0",null));xt.options.__file="shop-cart.vue";var kt=xt.exports,St=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"cart-control"},[e("transition",{attrs:{name:"move"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.food.count>0,expression:"food.count>0"}],staticClass:"cart-decrease"},[e("span",{staticClass:"inner icon-remove_circle_outline",on:{click:function(s){return s.stopPropagation(),t.decrease(s)}}})])]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.food.count>0,expression:"food.count>0"}],staticClass:"cart-count"},[t._v(t._s(t.food.count))]),e("div",{staticClass:"cart-add icon-add_circle",on:{click:function(s){return s.stopPropagation(),t.add(s)}}})],1)},$t=[],Tt="add",Pt={name:"",props:{food:{type:Object,default:function(){return{}}}},data:function(){return{}},methods:{add:function(t){this.food.count?this.food.count++:this.$set(this.food,"count",1),this.$emit(Tt,t.target)},decrease:function(){this.food.count&&this.food.count--}}},Ot=Pt,jt=(e("0922"),Object(g["a"])(Ot,St,$t,!1,null,"1574f428",null));jt.options.__file="cart-control.vue";var Ft=jt.exports,Et={name:"goods",props:{data:{type:Object,default:function(){return{}}}},data:function(){return{goods:[],slideOptions:{click:!1,directionLockThreshold:0},selectedFood:{}}},methods:{fetch:function(){var t=this;this.fetched||(this.fetched=!0,ct({id:this.seller.id}).then(function(s){t.goods=s}))},onAdd:function(t){this.$refs.shopCart.drop(t)},showFoodDetail:function(t){this.selectedFood=t,this._showFood(),this._showShopCartSticky()},_showFood:function(){var t=this;this.foodComp=this.foodComp||this.$createFood({$props:{food:"selectedFood"},$events:{leave:function(){t._hideShopCartSticky()},add:function(s){t.shopCartStickyComp.drop(s)}}}),this.foodComp.show()},_showShopCartSticky:function(){this.shopCartStickyComp=this.shopCartStickyComp||this.$createShopCartSticky({$props:{selectFoods:"selectFoods",minPrice:this.seller.minPrice,deliveryPrice:this.seller.deliveryPrice,fold:!0}}),this.shopCartStickyComp.show()},_hideShopCartSticky:function(){this.shopCartStickyComp.hide()}},computed:{seller:function(){return this.data.seller||{}},selectFoods:function(){var t=[];return this.goods.forEach(function(s){s.foods.forEach(function(s){s.count&&t.push(s)})}),t},barTxts:function(){var t=[];return this.goods.forEach(function(s){var e=s.type,i=s.name,a=s.foods,n=0;a.forEach(function(t){n+=t.count||0}),t.push({type:e,name:i,count:n})}),t}},components:{ShopCart:kt,CartControl:Ft,SupportIco:x,Bubble:Ct}},Nt=Et,Lt=(e("f0b7"),Object(g["a"])(Nt,st,et,!1,null,"3f09eeef",null));Lt.options.__file="goods.vue";var Dt=Lt.exports,Bt=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("cube-scroll",{ref:"scroll",attrs:{options:t.scrollOptions,data:t.computedRatings}},[e("div",{staticClass:"ratings"},[e("div",{staticClass:"all-ratings-wp"},[e("div",{staticClass:"rating-left"},[e("div",{staticClass:"score"},[t._v(t._s(t.seller.score))]),e("div",{staticClass:"text"},[t._v("综合评分")]),e("div",{staticClass:"rank-rate"},[t._v("高于周边商家"+t._s(t.seller.rankRate)+"%")])]),e("div",{staticClass:"rating-right"},[e("div",{staticClass:"star-wp"},[e("span",{staticClass:"text"},[t._v("食品质量")]),e("star",{attrs:{size:36,score:t.seller.foodScore}}),e("span",{staticClass:"score"},[t._v(t._s(t.seller.foodScore))])],1),e("div",{staticClass:"star-wp"},[e("span",{staticClass:"text"},[t._v("服务态度")]),e("star",{attrs:{size:36,score:t.seller.serviceScore}}),e("span",{staticClass:"score"},[t._v(t._s(t.seller.serviceScore))])],1),e("div",{staticClass:"star-wp"},[e("span",{staticClass:"text"},[t._v("送达时间")]),e("span",{staticClass:"delivery-time"},[t._v(t._s(t.seller.deliveryTime)+"分钟")])])])]),e("split"),e("div",{staticClass:"ratings-list-wp"},[t.ratings.length?e("rating-select",{attrs:{selectType:t.selectType,onlyContent:t.onlyContent,ratings:t.computedRatings},on:{select:t.onSelect,toggle:t.onToggle}}):t._e(),e("div",{staticClass:"rating-wrapper"},[e("ul",t._l(t.computedRatings,function(s,i){return e("li",{key:i,staticClass:"rating-item border-bottom-1px"},[e("div",{staticClass:"avatar"},[e("img",{attrs:{width:"28",height:"28",src:s.avatar}})]),e("div",{staticClass:"content"},[e("h1",{staticClass:"name"},[t._v(t._s(s.username))]),e("div",{staticClass:"star-wrapper"},[e("star",{attrs:{size:24,score:s.score}}),e("span",{directives:[{name:"show",rawName:"v-show",value:s.deliveryTime,expression:"rating.deliveryTime"}],staticClass:"delivery"},[t._v(t._s(s.deliveryTime))])],1),e("p",{staticClass:"text"},[t._v(t._s(s.text))]),e("div",{directives:[{name:"show",rawName:"v-show",value:s.recommend&&s.recommend.length,expression:"rating.recommend && rating.recommend.length"}],staticClass:"recommend"},[e("span",{staticClass:"icon-thumb_up"}),t._l(s.recommend,function(s,i){return e("span",{key:i,staticClass:"item"},[t._v("\n                  "+t._s(s)+"\n                ")])})],2),e("div",{staticClass:"time"},[t._v("\n                "+t._s(t.format(s.rateTime))+"\n              ")])])])}),0)])],1)],1)])},Rt=[],zt=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"rating-select"},[e("div",{staticClass:"rating-type"},[e("span",{staticClass:"type-item positive",class:{active:2===t.selectType},on:{click:function(s){t.select(2)}}},[t._v(t._s(t.desc.all))]),e("span",{staticClass:"type-item positive",class:{active:0===t.selectType},on:{click:function(s){t.select(0)}}},[t._v(t._s(t.desc.positive))]),e("span",{staticClass:"type-item negative",class:{active:1===t.selectType},on:{click:function(s){t.select(1)}}},[t._v(t._s(t.desc.negative))])]),e("div",{staticClass:"switch"},[e("span",{staticClass:"icon icon-check_circle",class:{on:t.onlyContent},on:{click:t.toggle}}),e("span",{staticClass:"text"},[t._v("只看有内容的评价")])])])},Mt=[],At=2,It="select",Ht="toggle",Jt={name:"rating-select",props:{ratings:{type:Array,default:function(){return[]}},selectType:{type:Number,default:At},desc:{type:Object,default:function(){return{all:"全部",positive:"满意",negative:"不满意"}}},onlyContent:{type:Boolean,default:!1}},data:function(){return{}},methods:{select:function(t){this.$emit(It,t)},toggle:function(){this.$emit(Ht)}}},Wt=Jt,Vt=(e("3840"),Object(g["a"])(Wt,zt,Mt,!1,null,"f449b38a",null));Vt.options.__file="rating-select.vue";var Xt=Vt.exports,Yt=2,qt={data:function(){return{selectType:Yt,onlyContent:!1}},computed:{computedRatings:function(){var t=this,s=[];return this.ratings.forEach(function(e){t.onlyContent&&!e.text||t.selectType!==Yt&&t.selectType!==e.rateType||s.push(e)}),s}},methods:{format:function(t){var s=new Date(t),e=s.getFullYear(),i=s.getMonth(),a=s.getDate()+1,n=s.getHours(),o=s.getMinutes();return"".concat(e,"-").concat(i,"-").concat(a," ").concat(n,":").concat(o)},onSelect:function(t){this.selectType=t},onToggle:function(){this.onlyContent=!this.onlyContent}}},Gt={name:"ratings",mixins:[qt],props:{data:{type:Object,default:function(){return{}}}},data:function(){return{ratings:[],scrollOptions:{click:!1,directionLockThreshold:0},desc:{all:"全部",positive:"满意",negative:"不满意"}}},created:function(){var t=this;this.$nextTick(function(){t.$refs.scroll.refresh()})},methods:{fetch:function(){var t=this;this.fetched||(this.fetched=!0,lt({id:this.seller.id}).then(function(s){t.ratings=s}))}},computed:{seller:function(){return this.data.seller||{}}},components:{Split:D,RatingSelect:Xt,Star:V},beforeMount:function(){},mounted:function(){},watch:{}},Kt=Gt,Qt=(e("104d"),Object(g["a"])(Kt,Bt,Rt,!1,null,"7737acff",null));Qt.options.__file="ratings.vue";var Ut=Qt.exports,Zt=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"tab"},[e("cube-tab-bar",{ref:"tabBar",staticClass:"border-bottom-1px",attrs:{showSlider:!0,useTransition:!1,data:t.tabs},model:{value:t.selectedLabel,callback:function(s){t.selectedLabel=s},expression:"selectedLabel"}}),e("div",{staticClass:"slide-wp"},[e("cube-slide",{ref:"slide",attrs:{loop:!1,"auto-play":!1,showDots:!1,initialIndex:t.index,options:t.slideOptions},on:{change:t.onChange,scroll:t.onScroll}},t._l(t.tabs,function(t,s){return e("cube-slide-item",{key:s},[e(t.component,{ref:"component",refInFor:!0,tag:"component",attrs:{data:t.data}})],1)}),1)],1)],1)},ts=[],ss=(e("20d6"),{name:"tab",props:{tabs:{type:Array,default:function(){return[]}},initialIndex:{type:Number,default:0}},data:function(){return{index:this.initialIndex,slideOptions:{listenScroll:!0,probeType:3,directionLockThreshold:0}}},methods:{onChange:function(t){this.index=t;var s=this.$refs.component[t];s.fetch&&s.fetch()},onScroll:function(t){var s=this.$refs.tabBar.$el.clientWidth,e=this.$refs.slide.slide.scrollerWidth,i=-t.x/e*s;this.$refs.tabBar.setSliderTransform(i)}},computed:{selectedLabel:{get:function(){return this.tabs[this.index].label},set:function(t){this.index=this.tabs.findIndex(function(s){return s.label===t})}}},mounted:function(){this.onChange(this.index)}}),es=ss,is=(e("46f1"),Object(g["a"])(es,Zt,ts,!1,null,"ca623360",null));is.options.__file="tab.vue";var as=is.exports,ns=e("72bf"),os=e.n(ns),rs={name:"app",data:function(){return{seller:{id:os.a.parse(location.search).id}}},created:function(){this._getSeller()},methods:{_getSeller:function(){var t=this;rt({id:this.seller.id}).then(function(s){t.seller=s})}},computed:{tabs:function(){return[{label:"商品",component:Dt,data:{seller:this.seller}},{label:"评价",component:Ut,data:{seller:this.seller}},{label:"商家",component:tt,data:{seller:this.seller}}]}},components:{VHeader:T,Tab:as}},cs=rs,ls=(e("732f"),Object(g["a"])(cs,f,h,!1,null,"64d4635f",null));ls.options.__file="App.vue";var us=ls.exports,ds=(e("f867"),e("df9a")),ps=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"header-detail"},[e("div",{staticClass:"name"},[t._v(t._s(t.seller.name))]),e("div",{staticClass:"star-wp"},[e("star",{attrs:{size:48,score:t.seller.score}})],1),e("div",{staticClass:"box discount-box"},[t._m(0),t.seller.supports?e("div",{staticClass:"info"},t._l(t.seller.supports,function(s,i){return e("div",{key:i,staticClass:"detail"},[e("support-ico",{attrs:{size:2,type:s.type}}),e("span",{staticClass:"text"},[t._v(t._s(s.description))])],1)}),0):t._e()]),e("div",{staticClass:"box bulletin-box"},[t._m(1),e("div",{staticClass:"info"},[t._v(t._s(t.seller.bulletin))])]),e("span",{staticClass:"icon-close",on:{click:t.hide}})])},fs=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"title"},[e("span",{staticClass:"line"}),e("span",{staticClass:"text"},[t._v("优惠信息")]),e("span",{staticClass:"line"})])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"title"},[e("span",{staticClass:"line"}),e("span",{staticClass:"text"},[t._v("商家公告")]),e("span",{staticClass:"line"})])}],hs="show",vs="hide",ms={data:function(){return{visible:!1}},methods:{show:function(){this.visible=!0,this.$emit(hs)},hide:function(){this.visible=!1,this.$emit(vs)}}},Cs={mixins:[ms],name:"header-detail",props:{seller:{type:Object,default:function(){return{}}},showDetail:{type:Boolean,default:function(){return!0}}},components:{Star:V,SupportIco:x}},_s=Cs,bs=(e("8087"),Object(g["a"])(_s,ps,fs,!1,null,"a5d012ee",null));bs.options.__file="header-detail.vue";var ys=bs.exports,gs=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("transition",{attrs:{name:"fade"}},[e("cube-popup",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],ref:"myPopup3",attrs:{type:"shop-cart-list","mask-closable":!0,"z-index":90,position:"bottom"},on:{"mask-click":t.maskClick}},[e("transition",{attrs:{name:"move"},on:{"after-leave":t.onLeave}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}]},[e("div",{staticClass:"list-header"},[e("h1",{staticClass:"title"},[t._v("购物车")]),e("span",{staticClass:"empty",on:{click:t.empty}},[t._v("清空")])]),e("cube-scroll",{ref:"listContent",staticClass:"list-content"},[e("ul",t._l(t.selectFoods,function(s){return e("li",{key:s.name,staticClass:"food"},[e("span",{staticClass:"name"},[t._v(t._s(s.name))]),e("div",{staticClass:"right"},[e("span",{staticClass:"price"},[t._v("¥"+t._s(s.price*s.count))]),e("div",{staticClass:"cart-control-wp"},[e("cart-control",{attrs:{food:s},on:{add:t.onAdd}})],1)])])}),0)])],1)])],1)],1)},ws=[],xs="leave",ks="add",Ss="show",$s={mixins:[ms],name:"shop-cart-list",props:{selectFoods:{type:Array,default:function(){return[]}}},created:function(){var t=this;this.$on(Ss,function(){t.$nextTick(function(){t.$refs.listContent.refresh()})})},methods:{maskClick:function(){this.hide()},empty:function(){var t=this;this.$createDialog({type:"confirm",content:"清空购物车吗？",$events:{confirm:function(){t.selectFoods.forEach(function(t){t.count=0}),t.hide()}}}).show()},onLeave:function(){this.$emit(xs)},onAdd:function(t){this.$emit(ks,t)}},components:{CartControl:Ft}},Ts=$s,Ps=(e("70f0"),Object(g["a"])(Ts,gs,ws,!1,null,"de774d2c",null));Ps.options.__file="shop-cart-list.vue";var Os=Ps.exports,js=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"shop-cart-sticky"},[e("shop-cart",{ref:"shopCart",attrs:{"select-foods":t.selectFoods,"delivery-price":t.deliveryPrice,"min-price":t.minPrice,fold:t.fold,sticky:!0}})],1)},Fs=[],Es={mixins:[ms],name:"shop-cart-sticky",props:{selectFoods:{type:Array,default:function(){return[]}},minPrice:{type:Number,default:0},deliveryPrice:{type:Number,default:0},fold:{type:Boolean,default:!0},list:{type:Object,default:function(){return{}}},sticky:{type:Boolean,default:!0}},methods:{drop:function(t){this.$refs.shopCart.drop(t)}},components:{ShopCart:kt}},Ns=Es,Ls=(e("4e9c"),Object(g["a"])(Ns,js,Fs,!1,null,"10993154",null));Ls.options.__file="shop-cart-sticky.vue";var Ds=Ls.exports,Bs=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("transition",{attrs:{name:"move"},on:{"after-leave":t.onLeave}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"food"},[e("cube-scroll",{ref:"scroll",attrs:{data:t.computedRatings}},[e("div",{staticClass:"food-content"},[e("div",{staticClass:"image-header"},[e("img",{attrs:{src:t.food.image}}),e("div",{staticClass:"back",on:{click:t.hide}},[e("i",{staticClass:"icon-arrow_lift"})])]),e("div",{staticClass:"content"},[e("h1",{staticClass:"title"},[t._v(t._s(t.food.name))]),e("div",{staticClass:"detail"},[e("span",{staticClass:"sell-count"},[t._v("月售"+t._s(t.food.sellCount)+"份")]),e("span",{staticClass:"rating"},[t._v("好评率"+t._s(t.food.rating)+"%")])]),e("div",{staticClass:"price"},[e("span",{staticClass:"now"},[t._v("￥"+t._s(t.food.price))]),e("span",{directives:[{name:"show",rawName:"v-show",value:t.food.oldPrice,expression:"food.oldPrice"}],staticClass:"old"},[t._v("￥"+t._s(t.food.oldPrice))])]),e("div",{staticClass:"cart-control-wrapper"},[e("cart-control",{attrs:{food:t.food},on:{add:t.addFood}})],1),e("transition",{attrs:{name:"fade"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:!t.food.count,expression:"!food.count"}],staticClass:"buy",on:{click:function(s){return s.stopPropagation(),t.addFirst(s)}}},[t._v("\n              加入购物车\n            ")])])],1),e("split",{directives:[{name:"show",rawName:"v-show",value:t.food.info,expression:"food.info"}]}),e("div",{directives:[{name:"show",rawName:"v-show",value:t.food.info,expression:"food.info"}],staticClass:"info"},[e("h1",{staticClass:"title"},[t._v("商品信息")]),e("p",{staticClass:"text"},[t._v(t._s(t.food.info))])]),e("split"),e("div",{staticClass:"rating"},[e("h1",{staticClass:"title"},[t._v("商品评价")]),e("rating-select",{attrs:{selectType:t.selectType,onlyContent:t.onlyContent,desc:t.desc,ratings:t.computedRatings},on:{select:t.onSelect,toggle:t.onToggle}}),e("div",{staticClass:"rating-wrapper"},[e("ul",{directives:[{name:"show",rawName:"v-show",value:t.computedRatings&&t.computedRatings.length,expression:"computedRatings && computedRatings.length"}]},t._l(t.computedRatings,function(s,i){return e("li",{key:i,staticClass:"rating-item border-bottom-1px"},[e("div",{staticClass:"user"},[e("span",{staticClass:"name"},[t._v(t._s(s.username))]),e("img",{staticClass:"avatar",attrs:{width:"12",height:"12",src:s.avatar}})]),e("div",{staticClass:"time"},[t._v(t._s(t.format(s.rateTime)))]),e("p",{staticClass:"text"},[e("span",{class:{"icon-thumb_up":0===s.rateType,"icon-thumb_down":1===s.rateType}}),t._v(t._s(s.text)+"\n                ")])])}),0),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.computedRatings||!t.computedRatings.length,expression:"!computedRatings || !computedRatings.length"}],staticClass:"no-rating"},[t._v("暂无评价")])])],1)],1)])],1)])},Rs=[],zs="show",Ms="leave",As="add",Is={name:"food",mixins:[ms,qt],props:{food:{type:Object}},data:function(){return{desc:{all:"全部",positive:"推荐",negative:"吐槽"}}},created:function(){var t=this;this.$on(zs,function(){t.$nextTick(function(){t.$refs.scroll.refresh()})})},methods:{addFood:function(t){this.$emit(As,t)},addFirst:function(t){this.$set(this.food,"count",1),this.$emit(As,t.target)},onLeave:function(){this.$emit(Ms)}},computed:{ratings:function(){return this.food.ratings}},components:{Split:D,CartControl:Ft,RatingSelect:Xt}},Hs=Is,Js=(e("3943"),Object(g["a"])(Hs,Bs,Rs,!1,null,"765b98ca",null));Js.options.__file="food.vue";var Ws=Js.exports;Object(ds["a"])(i["a"],ys),Object(ds["a"])(i["a"],Os),Object(ds["a"])(i["a"],Ds),Object(ds["a"])(i["a"],Ws),i["a"].config.productionTip=!1,new i["a"]({render:function(t){return t(us)}}).$mount("#app")},7097:function(t,s,e){},"70f0":function(t,s,e){"use strict";var i=e("d413"),a=e.n(i);a.a},"732f":function(t,s,e){"use strict";var i=e("809b"),a=e.n(i);a.a},8087:function(t,s,e){"use strict";var i=e("4b0b"),a=e.n(i);a.a},"809b":function(t,s,e){},8132:function(t,s,e){"use strict";var i=e("d5ea"),a=e.n(i);a.a},"86ccf":function(t,s,e){},"9e90":function(t,s,e){"use strict";var i=e("7097"),a=e.n(i);a.a},af8e:function(t,s,e){},b94f:function(t,s,e){},d164:function(t,s,e){},d413:function(t,s,e){},d5ea:function(t,s,e){},e37f:function(t,s,e){"use strict";var i=e("af8e"),a=e.n(i);a.a},e639:function(t,s,e){},ea9e:function(t,s,e){},ecae:function(t,s,e){},f0b7:function(t,s,e){"use strict";var i=e("d164"),a=e.n(i);a.a},f867:function(t,s,e){}});
//# sourceMappingURL=app.a01b3259.js.map